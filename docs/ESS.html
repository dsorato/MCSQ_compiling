
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ESS data extraction, preprocessing and treatment methods &#8212; MCSQ compiling 2 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="SHARE data extraction, preprocessing and treatment methods" href="SHARE.html" />
    <link rel="prev" title="EVS data extraction, preprocessing and treatment methods" href="EVS.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="SHARE.html" title="SHARE data extraction, preprocessing and treatment methods"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="EVS.html" title="EVS data extraction, preprocessing and treatment methods"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MCSQ compiling 2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="contents.html" accesskey="U">Contents</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ESS data extraction, preprocessing and treatment methods</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ess-data-extraction-preprocessing-and-treatment-methods">
<h1>ESS data extraction, preprocessing and treatment methods<a class="headerlink" href="#ess-data-extraction-preprocessing-and-treatment-methods" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-preprocessing.txt2spreadsheet"></span><dl class="py function">
<dt id="preprocessing.txt2spreadsheet.main">
<code class="sig-prename descclassname">preprocessing.txt2spreadsheet.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder_path</span></em>, <em class="sig-param"><span class="n">has_supplementary</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/txt2spreadsheet.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.txt2spreadsheet.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main method of the ESS plain text to spreadsheet data transformation algorithm.
The data is extracted from the plain text file (that obeys an internal specification
for the MCSQ project), preprocessed and receives appropriate metadata attribution.</p>
<p>The algorithm outputs the csv representation of the df_questionnaire, used to store
questionnaire data (pandas dataframe)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>folder_path</strong> (<em>param1</em>) – path to the folder where the plain text files are.</p></li>
<li><p><strong>has_supplementary</strong> (<em>param2</em>) – boolean variable that indicates if there is a supplementary spreadsheet to be appended.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.txt2spreadsheet.process_answer_segment">
<code class="sig-prename descclassname">preprocessing.txt2spreadsheet.</code><code class="sig-name descname">process_answer_segment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">raw_item</span></em>, <em class="sig-param"><span class="n">survey_item_prefix</span></em>, <em class="sig-param"><span class="n">study</span></em>, <em class="sig-param"><span class="n">item_name</span></em>, <em class="sig-param"><span class="n">df_questionnaire</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/txt2spreadsheet.html#process_answer_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.txt2spreadsheet.process_answer_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and processes the answer segments from a raw item.
The answer segments are always after the {ANSWERS} tag.
If there are no answer segments, then the answer segment is the corresponding to
‘write down’ for the target language.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_item</strong> (<em>param1</em>) – raw survey item, retrieved in previous steps.</p></li>
<li><p><strong>survey_item_prefix</strong> (<em>param2</em>) – prefix of survey_item_ID.</p></li>
<li><p><strong>study</strong> (<em>param3</em>) – metadata parameter about study embedded in the file name.</p></li>
<li><p><strong>item_name</strong> (<em>param4</em>) – item_name metadata parameter, retrieved in previous steps.</p></li>
<li><p><strong>df_questionnaire</strong> (<em>param5</em>) – pandas dataframe to store questionnaire data.</p></li>
<li><p><strong>country_language</strong> (<em>param6</em>) – country_language metadata, embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>updated df_questionnaire when new valid answer segments are included, or df_questionnaire in
the same state it was when no new valid answer segments were included.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.txt2spreadsheet.process_intro_segment">
<code class="sig-prename descclassname">preprocessing.txt2spreadsheet.</code><code class="sig-name descname">process_intro_segment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">raw_item</span></em>, <em class="sig-param"><span class="n">survey_item_prefix</span></em>, <em class="sig-param"><span class="n">study</span></em>, <em class="sig-param"><span class="n">item_name</span></em>, <em class="sig-param"><span class="n">df_questionnaire</span></em>, <em class="sig-param"><span class="n">splitter</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/txt2spreadsheet.html#process_intro_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.txt2spreadsheet.process_intro_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and processes the introduction segments from a raw item.
The introduction segments are always between the item name and {QUESTION} tag,
for instance:</p>
<p>{INTRO}
Ara m’agradaria fer-li algunes preguntes sobre política i el govern.</p>
<p>B1
{QUESTION}
En quina mesura diria vostè que l’interessa la política?
Vostè diria que l’interessa…</p>
<p>{ANSWERS}
Molt
Bastant
Poc
Gens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_item</strong> (<em>param1</em>) – raw survey item, retrieved in previous steps.</p></li>
<li><p><strong>survey_item_prefix</strong> (<em>param2</em>) – prefix of survey_item_ID.</p></li>
<li><p><strong>study</strong> (<em>param3</em>) – metadata parameter about study embedded in the file name.</p></li>
<li><p><strong>item_name</strong> (<em>param4</em>) – item_name metadata parameter, retrieved in previous steps.</p></li>
<li><p><strong>df_questionnaire</strong> (<em>param5</em>) – pandas dataframe to store questionnaire data.</p></li>
<li><p><strong>splitter</strong> (<em>param6</em>) – sentence segmentation from NLTK library.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>updated df_questionnaire when new valid introduction segments are included, or df_questionnaire in
the same state it was when no new valid introduction segments were included.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.txt2spreadsheet.process_question_segment">
<code class="sig-prename descclassname">preprocessing.txt2spreadsheet.</code><code class="sig-name descname">process_question_segment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">raw_item</span></em>, <em class="sig-param"><span class="n">survey_item_prefix</span></em>, <em class="sig-param"><span class="n">study</span></em>, <em class="sig-param"><span class="n">item_name</span></em>, <em class="sig-param"><span class="n">df_questionnaire</span></em>, <em class="sig-param"><span class="n">splitter</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/txt2spreadsheet.html#process_question_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.txt2spreadsheet.process_question_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and processes the question segments from a raw item.
The question segments are always between the {QUESTION} and {ANSWERS} tags,
for instance:</p>
<p>G2
{QUESTION}
Per a ell és important ser ric.
Vol tenir molts diners i coses cares.</p>
<p>{ANSWERS}
Se sembla molt a mi
Se sembla a mi
Se sembla una mica a mi
Se sembla poc a mi
No se sembla a mi
No se sembla gens a mi</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_item</strong> (<em>param1</em>) – raw survey item, retrieved in previous steps.</p></li>
<li><p><strong>survey_item_prefix</strong> (<em>param2</em>) – prefix of survey_item_ID.</p></li>
<li><p><strong>study</strong> (<em>param3</em>) – metadata parameter about study embedded in the file name.</p></li>
<li><p><strong>item_name</strong> (<em>param4</em>) – item_name metadata parameter, retrieved in previous steps.</p></li>
<li><p><strong>df_questionnaire</strong> (<em>param5</em>) – pandas dataframe to store questionnaire data.</p></li>
<li><p><strong>splitter</strong> (<em>param6</em>) – sentence segmentation from NLTK library.</p></li>
<li><p><strong>country_language</strong> (<em>param7</em>) – country_language metadata, embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>updated df_questionnaire when new valid question segments are included, or df_questionnaire in the same state it
was when no new valid question segments were included.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.txt2spreadsheet.retrieve_raw_items_from_file">
<code class="sig-prename descclassname">preprocessing.txt2spreadsheet.</code><code class="sig-name descname">retrieve_raw_items_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/txt2spreadsheet.html#retrieve_raw_items_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.txt2spreadsheet.retrieve_raw_items_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the raw items from ESS plain text file, based on an item name regex pattern.
Also excludes blank lines and non relevant scale items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> (<em>param1</em>) – input ESS plain text file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>retrieved raw items (list of strings).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.txt2spreadsheet.set_initial_structures">
<code class="sig-prename descclassname">preprocessing.txt2spreadsheet.</code><code class="sig-name descname">set_initial_structures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/txt2spreadsheet.html#set_initial_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.txt2spreadsheet.set_initial_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Set initial structures that are necessary for the extraction of each questionnaire.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>param1</em>) – name of the input file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>df_questionnaire to store questionnaire data (pandas dataframe),
survey_item_prefix, which is the prefix of survey_item_ID (string),
study/country_language, which are metadata parameters embedded in the file name (string and string)
and sentence splitter to segment request/introduction/instruction segments when necessary (NLTK object).</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-preprocessing.ess_xml_data_extraction"></span><p>Python3 script to transform XML ESS data into spreadsheet format used as input for MCSQ
Author: Danielly Sorato
Author contact: <a class="reference external" href="mailto:danielly&#46;sorato&#37;&#52;&#48;gmail&#46;com">danielly<span>&#46;</span>sorato<span>&#64;</span>gmail<span>&#46;</span>com</a></p>
<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.adjust_item_name">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">adjust_item_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#adjust_item_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.adjust_item_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust item_name inconsistencies (and item_type in some cases) present in source XML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_name</strong> (<em>param1</em>) – item_name metadata, extracted from input file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>adjusted item_name and item_type metadata.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.clean">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">clean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans the question or instruction segment, by standardizing the text and removing undesired elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<em>param1</em>) – question or instruction segment currently being analyzed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>standardized question or instruction text (string).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.clean_answer_category">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">clean_answer_category</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#clean_answer_category"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.clean_answer_category" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans the answer segment, by standardizing the text and removing undesired elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<em>param1</em>) – answer segment currently being analyzed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>standardized answer text (string).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.get_answer_id">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">get_answer_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">parent_map</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#get_answer_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.get_answer_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the answer id from node attributes, if it exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<em>param1</em>) – current xml tree node being analyzed in outer loop.</p></li>
<li><p><strong>parent_map</strong> (<em>param2</em>) – a dictionary containing information about parent-child relationships in XML tree.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>answer_id (string) if it exists, otherwise None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.identify_showcard_instruction">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">identify_showcard_instruction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#identify_showcard_instruction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.identify_showcard_instruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Language specific definitions of the word ‘card’ used in the ESS files. If the text matches the word, then it is a showcard instruction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text segment being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country and language metadata, embedded in the name of the input file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>item_type (string). Either request or instruction in the case that it is a showcard instruction.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.process_answer_node">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">process_answer_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ess_answers</span></em>, <em class="sig-param"><span class="n">df_answers</span></em>, <em class="sig-param"><span class="n">parent_map</span></em>, <em class="sig-param"><span class="n">ess_special_answer_categories</span></em>, <em class="sig-param"><span class="n">extract_source</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#process_answer_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.process_answer_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates through answer nodes to extract answer segments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ess_answers</strong> (<em>param1</em>) – answer nodes.</p></li>
<li><p><strong>df_answers</strong> (<em>param2</em>) – a dataframe to store processed answer segments</p></li>
<li><p><strong>parent_map</strong> (<em>param3</em>) – a dictionary containing information about parent-child relationships in XML tree.</p></li>
<li><p><strong>ess_special_answer_categories</strong> (<em>param4</em>) – instance of SpecialAnswerCategories object, in accordance to the country_language.</p></li>
<li><p><strong>extract_source</strong> (<em>param5</em>) – flag that indicates if the script should extract the ENG_SOURCE data or the target language.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated df_answers dataframe, with new answer segments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.process_question_instruction_node">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">process_question_instruction_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ess_questions_instructions</span></em>, <em class="sig-param"><span class="n">df_question_instruction</span></em>, <em class="sig-param"><span class="n">parent_map</span></em>, <em class="sig-param"><span class="n">splitter</span></em>, <em class="sig-param"><span class="n">country_language</span></em>, <em class="sig-param"><span class="n">extract_source</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#process_question_instruction_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.process_question_instruction_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates through question nodes to extract questions and instructions (introduction is not present in metadata)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ess_questions_instructions</strong> (<em>param1</em>) – question and instruction nodes.</p></li>
<li><p><strong>df_question_instruction</strong> (<em>param2</em>) – a dataframe to store processed question and instruction segments</p></li>
<li><p><strong>parent_map</strong> (<em>param3</em>) – a dictionary containing information about parent-child relationships in XML tree.</p></li>
<li><p><strong>splitter</strong> (<em>param4</em>) – sentence segmentation from NLTK library.</p></li>
<li><p><strong>country_language</strong> (<em>param5</em>) – country and language metadata, extracted from the input file name.</p></li>
<li><p><strong>extract_source</strong> (<em>param6</em>) – flag that indicates if the script should extract the ENG_SOURCE data or the target language.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated df_question_instruction dataframe, with new question and instruction segments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.segment_question_instruction">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">segment_question_instruction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df_question_instruction</span></em>, <em class="sig-param"><span class="n">parent_map</span></em>, <em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">item_name</span></em>, <em class="sig-param"><span class="n">item_type</span></em>, <em class="sig-param"><span class="n">splitter</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#segment_question_instruction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.segment_question_instruction" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Extracts the question/instruction text segments from a node, if the node text exists.</dt><dd><p>nodes to extract questions and instructions (introduction is not present in metadata)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_question_instruction</strong> (<em>param1</em>) – a dataframe to store processed question and instruction segments</p></li>
<li><p><strong>parent_map</strong> (<em>param2</em>) – a dictionary containing information about parent-child relationships in XML tree.</p></li>
<li><p><strong>node</strong> (<em>param3</em>) – XML node being analyzed.</p></li>
<li><p><strong>item_name</strong> (<em>param4</em>) – item name metadata extracted from node.attrib[‘name’]</p></li>
<li><p><strong>item_type</strong> (<em>param5</em>) – item type metadata inferred from parent_map[node].attrib[‘type_name’]</p></li>
<li><p><strong>splitter</strong> (<em>param6</em>) – Sentence segmenter object from NLTK</p></li>
<li><p><strong>country_language</strong> (<em>param7</em>) – country and language metadata, extracted from the input file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated df_question_instruction dataframe, with new question and instruction segments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.ess_xml_data_extraction.set_initial_structures">
<code class="sig-prename descclassname">preprocessing.ess_xml_data_extraction.</code><code class="sig-name descname">set_initial_structures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">extract_source</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/ess_xml_data_extraction.html#set_initial_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_xml_data_extraction.set_initial_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Set initial structures that are necessary for the extraction of each questionnaire.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>param1</em>) – name of the input file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>df_questionnaire to store questionnaire data (pandas dataframe),
survey_item_prefix, which is the prefix of survey_item_ID (string),
study/country_language, which are metadata parameters embedded in the file name (string and string)
and sentence splitter to segment request/instruction segments when necessary (NLTK object).</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-preprocessing.preprocessing_ess_utils"></span><dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.check_if_answer_is_special_category">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">check_if_answer_is_special_category</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">answer_value</span></em>, <em class="sig-param"><span class="n">ess_special_answer_categories</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#check_if_answer_is_special_category"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.check_if_answer_is_special_category" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies if a given answer segment is one of the special answer categories,
by testing the answer text against the attributes of SpecialAnswerCategories object.
This method serves the purpose of standardizing the special answer category values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – answer segment currently being analyzed.</p></li>
<li><p><strong>answer_value</strong> (<em>param2</em>) – answer category value, defined in clean_answer() method.</p></li>
<li><p><strong>ess_special_answer_categories</strong> (<em>param3</em>) – instance of SpecialAnswerCategories object, in accordance to the country_language.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>answer text (string) and its category value (string). When the answer is a special answer category,
the text and category values are the ones stored in the SpecialAnswerCategories object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.check_if_segment_is_instruction">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">check_if_segment_is_instruction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sentence</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#check_if_segment_is_instruction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.check_if_segment_is_instruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the appropriate instruction recognition method, according to the language.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentence</strong> (<em>param1</em>) – sentence being analyzed in outer loop of data extraction.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata, embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bypass the return of instruction_recognition methods (boolean).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.clean_answer">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">clean_answer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">ess_special_answer_categories</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#clean_answer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.clean_answer" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans the answer segment, by standardizing the text (when it is a special answer category),
and attributing an category value to it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – answer segment currently being analyzed.</p></li>
<li><p><strong>ess_special_answer_categories</strong> (<em>param2</em>) – instance of SpecialAnswerCategories object, in accordance to the country_language.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>answer text (string) and its category value (string). When the answer is a special answer category,
the text and category values are the ones stored in the SpecialAnswerCategories object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.clean_text">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">clean_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#clean_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.clean_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans Request, Introduction and Instruction text segments by removing
undesired characters and standardizing some character representations.
A string input is expected, if the input is not a string instance,
the method returns ‘’, so the entry is ignored in the data extraction loop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<em>param1</em>) – text to be cleaned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cleaned text (string).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.expand_interviewer_abbreviations">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">expand_interviewer_abbreviations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#expand_interviewer_abbreviations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.expand_interviewer_abbreviations" title="Permalink to this definition">¶</a></dt>
<dd><p>Switches abbreviations of the word interviewer for the full form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – sentence being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>text (string) without abbreviations for the word interviewer, when applicable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.get_country_language_and_study_info">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">get_country_language_and_study_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#get_country_language_and_study_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.get_country_language_and_study_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the country/language and study metadata based on the input filename,
or survey_item_ID prefix.
The filenames respect a nomenclature rule, as follows:
SSS_RRR_YYYY_CC_LLL
S = study name
R = round or wave
Y = study year
C = Country (ISO code with two digits, except for SOURCE)
L = Language</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>param1</em>) – name of the input file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>country/language (string) and study metadata (string).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instantiate_special_answer_category_object">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instantiate_special_answer_category_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instantiate_special_answer_category_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instantiate_special_answer_category_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates the SpecialAnswerCategories object that stores both the text
and category values of the special answers (don’t know, refusal, not applicable
and write down) in accordance to the country_language metadata parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>country_language</strong> (<em>param1</em>) – country_language metadata parameter, embedded in file name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of SpecialAnswerCategories object (Python object), in accordance to the country_language.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instruction_recognition_catalan_spanish">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instruction_recognition_catalan_spanish</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instruction_recognition_catalan_spanish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instruction_recognition_catalan_spanish" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognizes an instruction segment for texts written either in Spanish or Catalan,
based on regex named groups patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text (in Spanish or Catalan) currently being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the segment is an instruction or False if it is not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instruction_recognition_czech">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instruction_recognition_czech</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instruction_recognition_czech"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instruction_recognition_czech" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognizes an instruction segment for texts written in Czech,
based on regex named groups patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text (in Czech) currently being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the segment is an instruction or False if it is not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instruction_recognition_english">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instruction_recognition_english</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instruction_recognition_english"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instruction_recognition_english" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognizes an instruction segment for texts written in English,
based on regex named groups patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text (in English) currently being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the segment is an instruction or False if it is not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instruction_recognition_french">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instruction_recognition_french</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instruction_recognition_french"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instruction_recognition_french" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognizes an instruction segment for texts written in French,
based on regex named groups patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text (in French) currently being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the segment is an instruction or False if it is not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instruction_recognition_german">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instruction_recognition_german</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instruction_recognition_german"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instruction_recognition_german" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognizes an instruction segment for texts written in German,
based on regex named groups patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text (in German) currently being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the segment is an instruction or False if it is not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instruction_recognition_norwegian">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instruction_recognition_norwegian</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instruction_recognition_norwegian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instruction_recognition_norwegian" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognizes an instruction segment for texts written in Norwegian,
based on regex named groups patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text (in Norwegian) currently being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the segment is an instruction or False if it is not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instruction_recognition_portuguese">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instruction_recognition_portuguese</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instruction_recognition_portuguese"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instruction_recognition_portuguese" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognizes an instruction segment for texts written in Portuguese,
based on regex named groups patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text (in Portuguese) currently being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the segment is an instruction or False if it is not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.instruction_recognition_russian">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">instruction_recognition_russian</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">country_language</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#instruction_recognition_russian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.instruction_recognition_russian" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognizes an instruction segment for texts written in Russian,
based on regex named groups patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>param1</em>) – text (in Russian) currently being analyzed.</p></li>
<li><p><strong>country_language</strong> (<em>param2</em>) – country_language metadata embedded in file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the segment is an instruction or False if it is not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.remove_spaces_from_item_name">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">remove_spaces_from_item_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#remove_spaces_from_item_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.remove_spaces_from_item_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes spaces in item names such as A 1, because the MCSQ standard are item names without spaces (A1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_name</strong> (<em>param1</em>) – item_name retrieved from the input file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>item_name (string) withour spaces.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.retrieve_item_module">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">retrieve_item_module</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item_name</span></em>, <em class="sig-param"><span class="n">study</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#retrieve_item_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.retrieve_item_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the module of the survey_item, based on information from the ESSModulesRRR objects.
This information comes from the source questionnaires.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_name</strong> (<em>param1</em>) – name of survey item, retrieved in previous steps.</p></li>
<li><p><strong>study</strong> (<em>param2</em>) – study metadata, embedded in the file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>module of survey_item (string).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.retrieve_supplementary_module">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">retrieve_supplementary_module</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">essmodules</span></em>, <em class="sig-param"><span class="n">item_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#retrieve_supplementary_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.retrieve_supplementary_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Matches the item_name against the dictionary stored in the ESSModulesRRR objects.
Rotating/supplementary modules are defined by round because they may change from
round to round.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>essmodules</strong> (<em>param1</em>) – ESSModulesRRR object, instantiated according to the round.</p></li>
<li><p><strong>item_name</strong> (<em>param2</em>) – name of survey item, retrieved in previous steps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matching value for item name (string).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.standardize_study_metadata">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">standardize_study_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">study</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#standardize_study_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.standardize_study_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms study metadata present in the input file to the standard
used in the MCSQ format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>study</strong> (<em>param1</em>) – study metadata extracted from input file (Study column).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Standardized study parameter (string).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="preprocessing.preprocessing_ess_utils.standardize_supplementary_item_name">
<code class="sig-prename descclassname">preprocessing.preprocessing_ess_utils.</code><code class="sig-name descname">standardize_supplementary_item_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocessing/preprocessing_ess_utils.html#standardize_supplementary_item_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.preprocessing_ess_utils.standardize_supplementary_item_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Standardizes the item name metadata of supplementary modules G, H and I</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_name</strong> (<em>param1</em>) – item_name metadata, extracted from input file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Standardized item_name, when applicable.</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-preprocessing.ess_special_answer_categories"></span><dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesCAT">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesCAT</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesCAT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesCAT" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Catalan</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesCZE">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesCZE</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesCZE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesCZE" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Czech</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesENG">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesENG</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesENG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesENG" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for English</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesFRE">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesFRE</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesFRE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesFRE" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for French</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesGER">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesGER</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesGER"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesGER" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for German</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesNOR">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesNOR</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesNOR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesNOR" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Norwegian</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesPOR">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesPOR</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesPOR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesPOR" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Portuguese</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_EE">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesRUS_EE</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesRUS_EE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_EE" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Russian from Estonia</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_IL">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesRUS_IL</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesRUS_IL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_IL" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Russian from Israel</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_LT">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesRUS_LT</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesRUS_LT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_LT" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Russian from Lithuania</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_LV">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesRUS_LV</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesRUS_LV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_LV" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Russian from Latvia</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_RU_UA">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesRUS_RU_UA</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesRUS_RU_UA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesRUS_RU_UA" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Russian from Russian Federation and Ukraine</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesSPA">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.ess_special_answer_categories.</code><code class="sig-name descname">SpecialAnswerCategoriesSPA</code><a class="reference internal" href="_modules/preprocessing/ess_special_answer_categories.html#SpecialAnswerCategoriesSPA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.ess_special_answer_categories.SpecialAnswerCategoriesSPA" title="Permalink to this definition">¶</a></dt>
<dd><p>Class encapsulating special answer categories for Spanish</p>
</dd></dl>

<span class="target" id="module-preprocessing.essmodules"></span><dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR01">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR01</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR01"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR01" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 1.</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR02">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR02</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR02"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR02" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 2.</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR03">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR03</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR03"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR03" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 3.</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR04">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR04</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR04"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR04" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 4.</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR05">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR05</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR05"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR05" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 5.</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR06">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR06</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR06"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR06" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 6.</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR07">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR07</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR07"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR07" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 7.</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR08">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR08</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR08"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR08" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 8.</p>
</dd></dl>

<dl class="py class">
<dt id="preprocessing.essmodules.ESSSModulesR09">
<em class="property">class </em><code class="sig-prename descclassname">preprocessing.essmodules.</code><code class="sig-name descname">ESSSModulesR09</code><a class="reference internal" href="_modules/preprocessing/essmodules.html#ESSSModulesR09"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocessing.essmodules.ESSSModulesR09" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotating modules in ESS round 9.</p>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="EVS.html"
                        title="previous chapter">EVS data extraction, preprocessing and treatment methods</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="SHARE.html"
                        title="next chapter">SHARE data extraction, preprocessing and treatment methods</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ESS.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="SHARE.html" title="SHARE data extraction, preprocessing and treatment methods"
             >next</a> |</li>
        <li class="right" >
          <a href="EVS.html" title="EVS data extraction, preprocessing and treatment methods"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MCSQ compiling 2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="contents.html" >Contents</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ESS data extraction, preprocessing and treatment methods</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Danielly Sorato.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>